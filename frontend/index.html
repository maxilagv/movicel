<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tecnocel - Tienda de Tecnología</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            @apply bg-gray-900 text-white leading-relaxed overflow-x-hidden;
        }
        .hero {
            /* Asegúrate de cambiar esta URL si tienes tu propia imagen */
            background-image: url('https://images.unsplash.com/photo-1550745165-9bc0b252726f?auto=format&fit=crop&q=80&w=1920&ixlib=rb-4.0.3');
            background-position: center;
            background-size: cover;
            background-attachment: fixed; /* Efecto parallax sutil */
        }
        /* Clase personalizada para animaciones de entrada */
        .animate-fade-in {
            animation: fadeIn 0.8s ease-out both;
        }
        .animation-delay-300 {
            animation-delay: 0.3s;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Estilos específicos para el modal de detalles, forzando scroll en el cuerpo */
        #product-detail-modal[data-visible='true'] {
            overflow-y: auto; /* Permite desplazamiento si el contenido es largo */
        }

        .tab-button.active {
            @apply border-b-2 border-teal-400 text-teal-400;
        }
    </style>
    <style>
        :root {
            --bg-deep-1: #0b1220;
            --bg-deep-2: #0a1322;
            --bg-deep-3: #0e1b2b;
            --teal: #14b8a6;
            --cyan: #22d3ee;
            --sky:  #38bdf8;
            --violet: #8b5cf6;
        }
        html { scroll-behavior: smooth; }
        /* Fondo: gradiente animado sutil */
        #bg-animated {
            position: fixed; inset: 0; z-index: 0; pointer-events: none;
            background:
              radial-gradient(1200px 600px at 20% -10%, rgba(20,184,166,.15), transparent 60%),
              radial-gradient(800px 500px at 80% 110%, rgba(56,189,248,.12), transparent 60%),
              linear-gradient(120deg, var(--bg-deep-1), var(--bg-deep-2), var(--bg-deep-3));
            background-size: 200% 200%, 200% 200%, 200% 200%;
            animation: moveGradient 30s ease-in-out infinite alternate;
            filter: saturate(1.05);
        }
        @keyframes moveGradient {
            0%   { background-position: 0% 0%, 100% 100%, 0% 50%; }
            50%  { background-position: 50% 50%, 50% 50%, 100% 50%; }
            100% { background-position: 100% 100%, 0% 0%, 0% 50%; }
        }
        /* Orbes de brillo flotantes */
        #bg-orbs { position: fixed; inset: 0; z-index: 1; pointer-events: none; }
        .orb { position: absolute; border-radius: 9999px; filter: blur(40px); opacity: .25; mix-blend-mode: screen; will-change: transform; animation: float 22s ease-in-out infinite; }
        .orb.teal   { background: radial-gradient(circle at 30% 30%, rgba(20,184,166,.8), transparent 60%); }
        .orb.cyan   { background: radial-gradient(circle at 30% 30%, rgba(34,211,238,.8), transparent 60%); }
        .orb.violet { background: radial-gradient(circle at 30% 30%, rgba(139,92,246,.7), transparent 60%); }
        @keyframes float { 0% { transform: translate3d(0,0,0) scale(1);} 50% { transform: translate3d(20px,-40px,0) scale(1.05);} 100% { transform: translate3d(0,0,0) scale(1);} }
        @media (prefers-reduced-motion: reduce) { #bg-animated, .orb { animation: none !important; } }
        /* Hero: reforzar overlay por CSS propio */
        .hero { position: relative; z-index: 2; }
        .hero::after { content: ''; position: absolute; inset: 0; background: linear-gradient(to bottom, rgba(2,6,23,0.35), rgba(2,6,23,0.65)); }
        /* Grid tenue para secciones */
        #categorias { position: relative; z-index: 2; }
        #categorias::before { content: ''; position: absolute; inset: 0; background-image: radial-gradient(circle at 1px 1px, rgba(255,255,255,0.05) 1px, transparent 1px); background-size: 22px 22px; mask-image: linear-gradient(to bottom, transparent, black 10%, black 90%, transparent); pointer-events: none; }
        /* Mejoras visuales en tarjetas */
        .product-card, .category-card { backface-visibility: hidden; transform: translateZ(0); transition: transform .45s cubic-bezier(.2,.8,.2,1), box-shadow .45s ease, border-color .3s ease; }
        .product-card:hover, .category-card:hover { transform: translateY(-4px) scale(1.01); box-shadow: 0 20px 50px rgba(20,184,166,0.12), 0 10px 20px rgba(0,0,0,.35); border-color: rgba(45,212,191,.5) !important; }
    </style>
</head>
<body class="bg-gray-900">
    <!-- Fondo animado -->
    <div id="bg-animated" aria-hidden="true"></div>
    <div id="bg-orbs" aria-hidden="true">
        <span class="orb teal"   style="top:10%; left:5%; width:220px; height:220px; animation-duration: 24s;"></span>
        <span class="orb cyan"   style="top:70%; left:10%; width:180px; height:180px; animation-duration: 28s; animation-delay: 1s;"></span>
        <span class="orb violet" style="top:15%; right:8%; width:260px; height:260px; animation-duration: 26s; animation-delay: .5s;"></span>
        <span class="orb teal"   style="bottom:5%; right:15%; width:200px; height:200px; animation-duration: 30s; animation-delay: 1.2s;"></span>
        <span class="orb cyan"   style="top:45%; left:45%; width:140px; height:140px; animation-duration: 22s; animation-delay: .8s;"></span>
    </div>

    <!-- Header y Navegación -->
    <header class="sticky top-0 z-50 bg-gray-900/95 backdrop-blur-sm shadow-lg">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="#" class="text-3xl font-extrabold text-teal-400">Tecnocel</a>
            <div class="flex items-center space-x-6">
                <a href="#categorias" class="text-white hover:text-teal-400 transition-colors hidden md:inline">Productos</a>
                <a href="#contacto" class="text-white hover:text-teal-400 transition-colors hidden md:inline">Contacto</a>
                
                <!-- Botón del Carrito -->
                <button id="cart-btn" class="relative p-2 rounded-full bg-gray-800 hover:bg-teal-500 transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" />
                    </svg>
                    <span id="cart-count" class="absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-gray-900 transform translate-x-1/2 -translate-y-1/2 bg-teal-400 rounded-full">0</span>
                </button>
            </div>
        </nav>
    </header>

    <!-- Modal del Carrito -->
    <div id="cart-modal" class="hidden fixed inset-0 z-50 bg-gray-900 bg-opacity-70 flex items-center justify-center p-4">
        <div class="bg-gray-800 rounded-xl shadow-3xl w-full max-w-md p-6 transform transition-all duration-300 scale-95 opacity-0 data-[visible='true']:scale-100 data-[visible='true']:opacity-100">
            <div class="flex justify-between items-center pb-4 border-b border-gray-700">
                <h3 class="text-2xl font-bold text-teal-400">Tu Carrito</h3>
                <button id="close-cart-modal" class="text-gray-400 hover:text-white transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                </button>
            </div>
            
            <div id="cart-items-container" class="my-4 space-y-3 max-h-80 overflow-y-auto">
                <!-- Items del carrito se insertan aquí -->
            </div>
            
            <p id="empty-cart-message" class="text-center text-gray-400 italic py-4" style="display: none;">El carrito está vacío.</p>

            <div class="pt-4 border-t border-gray-700">
                <div class="flex justify-between items-center mb-4">
                    <span class="text-lg font-semibold text-white">Total:</span>
                    <span id="cart-total" class="text-2xl font-extrabold text-teal-400">$0.00</span>
                </div>
                <button id="checkout-btn" class="w-full bg-teal-500 hover:bg-teal-600 text-gray-900 font-bold py-3 rounded-full transition-all duration-300 disabled:bg-gray-600" disabled>
                    Finalizar Compra
                </button>
            </div>
        </div>
    </div>

    <!-- Modal de Detalles del Producto (único) -->
    <div id="product-detail-modal" class="hidden fixed inset-0 z-50 bg-gray-900 bg-opacity-70 flex items-start justify-center pt-8 md:pt-16 p-4">
        <div class="bg-gray-800 rounded-xl shadow-3xl w-full max-w-6xl h-auto p-4 md:p-8 transform transition-all duration-500 scale-95 opacity-0 data-[visible='true']:scale-100 data-[visible='true']:opacity-100 relative">

            <!-- Botón de Cerrar -->
            <button id="close-detail-modal" class="absolute top-4 right-4 text-gray-400 hover:text-white transition-colors z-20">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
            </button>

            <!-- Contenido del Producto con los IDs requeridos por el JS -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <!-- Columna de Imagen/Precio -->
                <div class="lg:sticky lg:top-0">
                    <img id="detail-image" src="https://placehold.co/800x600/1f2937/d1d5db?text=Cargando..." alt="Producto Detalle" class="w-full h-auto object-cover rounded-lg mb-6 shadow-xl border border-gray-700">

                    <p id="detail-price" class="text-4xl font-extrabold text-teal-400 mb-4">Cargando...</p>
                    <span id="detail-stock" class="text-sm font-medium">Cargando...</span>

                    <button 
                        id="detail-add-to-cart-btn"
                        data-id=""
                        class="mt-6 w-full bg-teal-500 hover:bg-teal-600 text-gray-900 font-bold py-3 px-4 rounded-full transition-all duration-300 disabled:bg-gray-600 disabled:cursor-not-allowed text-lg shadow-lg hover:shadow-xl"
                    >
                        Agregar al Carrito
                    </button>
                </div>

                <!-- Columna de Detalles/Descripción -->
                <div>
                    <h2 id="detail-name" class="text-3xl md:text-4xl font-extrabold text-white mb-4">Cargando Nombre del Producto...</h2>
                    <div id="detail-description" class="text-gray-300 space-y-4 leading-relaxed border-t border-gray-700 pt-6"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Sección Hero -->
    <section class="hero h-[70vh] flex items-center justify-center text-center relative">
        <div class="relative z-10 p-6 max-w-4xl">
            <h1 class="text-5xl md:text-7xl font-extrabold leading-tight mb-4 animate-fade-in">Descubre lo último en Tecnología</h1>
            <p class="text-xl md:text-2xl font-light mb-8 animate-fade-in animation-delay-300">Explora una selección curada de productos de alta calidad y personaliza tu experiencia con nuestro servicio experto.</p>
            <a href="#categorias" class="bg-teal-500 hover:bg-teal-600 text-gray-900 font-bold py-3 px-8 rounded-full shadow-lg transition-all duration-300 transform hover:scale-105">Ver Productos</a>
        </div>
    </section>

    <!-- Seccion de Categorías y Productos -->
    <section id="categorias" class="py-16 md:py-24 bg-gray-800/70 backdrop-blur-sm border-t border-gray-700/40">
        <div class="container mx-auto px-6">
            <h2 class="text-4xl md:text-5xl font-bold text-center mb-16 text-teal-400">Nuestras Categorías</h2>

            <!-- NUEVO CONTENEDOR PARA LAS TARJETAS VISUALES DE CATEGORÍA -->
            <div 
                id="category-cards-container" 
                class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 mb-20"
            >
                <!-- Las tarjetas de categoría se insertan aquí dinámicamente con JS -->
                <div class="category-card bg-gray-900 h-64 rounded-xl flex items-center justify-center text-gray-500">Cargando categorías...</div>
            </div>

            <!-- CONTENEDOR PARA LAS SECCIONES DE PRODUCTOS -->
            <div id="product-grid-container">
                <!-- Las secciones de productos por categoría se insertan aquí dinámicamente con JS -->
                <!-- El spinner inicial también irá aquí -->
            </div>
        </div>
    </section>

    <!-- Seccion de Contacto -->
    <footer id="contacto" class="bg-gray-950 py-12">
        <div class="container mx-auto px-6 text-center">
            <p class="text-gray-400">&copy; 2025 Tecnocel. Todos los derechos reservados.</p>
            <p class="text-gray-400">
                Desarrollado con 
                <span class="text-red-500">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline-block align-text-bottom" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd" /></svg>
                </span> 
                por Tecnocel Team.
            </p>
        </div>
    </footer>

    <!-- Config opcional inyectada en despliegue (define window.API_BASE_URL) -->
    <script src="config.js"></script>
    <!-- Script de la lógica principal -->
    <script src="main.js"></script>
    <script>
      (function () {
        const isDevStatic = /(:5500|:5501)$/.test(location.host);
        window.API_BASE_URL = isDevStatic ? 'http://localhost:3000' : window.location.origin;
      })();
    </script>
</body>
</html>
